{"version":3,"sources":["imagetools/plugin.min.js"],"names":["t","e","n","i","o","u","a","f","c","l","get","set","s","tinymce","util","Tools","resolve","d","m","h","g","v","p","y","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","w","r","b","some","none","from","I","T","_","A","document","createElement","R","width","height","U","drawImage","getContext","x","window","Promise","this","TypeError","_state","_value","_deferreds","L","j","immediateFn","setImmediate","setTimeout","arguments","length","apply","Array","isArray","Object","prototype","call","then","E","C","all","slice","constructor","reject","race","onFulfilled","onRejected","push","k","O","URL","createObjectURL","Image","removeEventListener","type","addEventListener","src","complete","P","XMLHttpRequest","open","responseType","onload","status","response","onerror","code","name","send","S","split","exec","atob","Math","ceil","min","charCodeAt","Uint8Array","Blob","M","HTMLCanvasElement","toBlob","toDataURL","N","revokeObjectURL","D","F","indexOf","H","q","getType","toBase64","toAdjustedBlob","toAdjustedDataURL","toAdjustedBase64","toCanvas","$","K","scale","J","V","translate","rotate","PI","G","W","keys","X","onreadystatechange","readyState","blob","withCredentials","setRequestHeader","Q","message","Y","tt","et","nt","JSON","parse","Z","ot","it","Content-Type","tiny-api-key","test","encodeURIComponent","FileReader","result","readAsText","rt","ut","at","onloadend","readAsDataURL","naturalWidth","naturalHeight","B","ct","dom","ft","st","Function","nodeType","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","childNodes","lt","dt","mt","ht","getParam","gt","style","parseInt","vt","pt","yt","wt","bt","It","Ut","At","Tt","notificationManager","text","_t","selection","getNode","getParent","Rt","match","encode","host","documentBaseURI","inArray","Et","xt","Lt","editorUpload","blobCache","getByUri","jt","clearTimeout","kt","uri","filename","create","id","base64","add","undoManager","transact","off","nodeChanged","uploadImagesAuto","setEditorTimeout","on","attr","blobUri","removeAttr","Ct","_scanForImages","Ot","Pt","Mt","url","windowManager","title","size","body","items","label","currentState","buttons","primary","disabled","onSubmit","getData","imagetools","removeAttribute","setAttribute","String","St","close","onCancel","onAction","value","enable","disable","mceImageRotateLeft","mceImageRotateRight","mceImageFlipVertical","mceImageFlipHorizontal","mceEditImage","addCommand","execCommand","ui","registry","addButton","tooltip","icon","onSetup","setDisabled","addContextMenu","update","addContextToolbar","predicate","position","scope","element"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.7.0 (2021-02-10)\n */\n!function(){\"use strict\";var t,e,n,r,i,o,u,a,f,c,l=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},s=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),d=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),m=function(){},h=function(t){return function(){return t}},g=h(!1),v=h(!0),p=function(){return y},y=(t=function(t){return t.isNone()},{fold:function(t,e){return t()},is:g,isSome:g,isNone:v,getOr:n=function(t){return t},getOrThunk:e=function(t){return t()},getOrDie:function(t){throw new Error(t||\"error: getOrDie called on none.\")},getOrNull:h(null),getOrUndefined:h(undefined),or:n,orThunk:e,map:p,each:m,bind:p,exists:g,forall:v,filter:p,equals:t,equals_:t,toArray:function(){return[]},toString:h(\"none()\")}),w=function(n){var t=h(n),e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},is:function(t){return n===t},isSome:v,isNone:g,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return w(t(n))},each:function(t){t(n)},bind:r,exists:r,forall:r,filter:function(t){return t(n)?o:y},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"},equals:function(t){return t.is(n)},equals_:function(t,e){return t.fold(g,function(t){return e(n,t)})}};return o},b={some:w,none:p,from:function(t){return null===t||t===undefined?y:w(t)}},I=function(t){return!(null===(e=t)||e===undefined);var e},T=(r=\"function\",function(t){return typeof t===r}),_=function(t,e){return A(document.createElement(\"canvas\"),t,e)},R=function(t){var e=_(t.width,t.height);return U(e).drawImage(t,0,0),e},U=function(t){return t.getContext(\"2d\")},A=function(t,e,n){return t.width=e,t.height=n,t},x=window.Promise?window.Promise:(i=function(t){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof t)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],c(t,a(L,this),a(j,this))},o=window,u=i.immediateFn||\"function\"==typeof o.setImmediate&&o.setImmediate||function(t){return setTimeout(t,1)},a=function(n,r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.apply(r,t)}},f=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},c=function(t,e,n){var r=!1;try{t(function(t){r||(r=!0,e(t))},function(t){r||(r=!0,n(t))})}catch(o){if(r)return;r=!0,n(o)}},i.prototype[\"catch\"]=function(t){return this.then(null,t)},i.prototype.then=function(n,r){var o=this;return new i(function(t,e){E.call(o,new C(n,r,t,e))})},i.all=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var c=Array.prototype.slice.call(1===t.length&&f(t[0])?t[0]:t);return new i(function(o,i){if(0===c.length)return o([]);for(var u=c.length,a=function(e,t){try{if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(\"function\"==typeof n)return void n.call(t,function(t){a(e,t)},i)}c[e]=t,0==--u&&o(c)}catch(r){i(r)}},t=0;t<c.length;t++)a(t,c[t])})},i.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(n){return new i(function(t,e){e(n)})},i.race=function(o){return new i(function(t,e){for(var n=0,r=o;n<r.length;n++)r[n].then(t,e)})},i);function E(r){var o=this;null!==this._state?u(function(){var t,e=o._state?r.onFulfilled:r.onRejected;if(null!==e){try{t=e(o._value)}catch(n){return void r.reject(n)}r.resolve(t)}else(o._state?r.resolve:r.reject)(o._value)}):this._deferreds.push(r)}function L(t){try{if(t===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var e=t.then;if(\"function\"==typeof e)return void c(a(e,t),a(L,this),a(j,this))}this._state=!0,this._value=t,k.call(this)}catch(n){j.call(this,n)}}function j(t){this._state=!1,this._value=t,k.call(this)}function k(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t];E.call(this,n)}this._deferreds=[]}function C(t,e,n,r){this.onFulfilled=\"function\"==typeof t?t:null,this.onRejected=\"function\"==typeof e?e:null,this.resolve=n,this.reject=r}var O=function(a){return new x(function(t,e){var n=URL.createObjectURL(a),r=new Image,o=function(){r.removeEventListener(\"load\",i),r.removeEventListener(\"error\",u)},i=function(){o(),t(r)},u=function(){o(),e(\"Unable to load data of type \"+a.type+\": \"+n)};r.addEventListener(\"load\",i),r.addEventListener(\"error\",u),r.src=n,r.complete&&setTimeout(i,0)})},P=function(r){return new x(function(t,n){var e=new XMLHttpRequest;e.open(\"GET\",r,!0),e.responseType=\"blob\",e.onload=function(){200===this.status&&t(this.response)},e.onerror=function(){var t,e=this;n(0===this.status?((t=new Error(\"No access to download image\")).code=18,t.name=\"SecurityError\",t):new Error(\"Error \"+e.status+\" downloading image\"))},e.send()})},S=function(n){return new x(function(t,e){(function(t){var e=t.split(\",\"),n=/data:([^;]+)/.exec(e[0]);if(!n)return b.none();for(var r=n[1],o=e[1],i=atob(o),u=i.length,a=Math.ceil(u/1024),c=new Array(a),f=0;f<a;++f){for(var s=1024*f,l=Math.min(1024+s,u),d=new Array(l-s),m=s,h=0;m<l;++h,++m)d[h]=i[m].charCodeAt(0);c[f]=new Uint8Array(d)}return b.some(new Blob(c,{type:r}))})(n).fold(function(){e(\"uri is not base64: \"+n)},t)})},M=function(t,r,o){return r=r||\"image/png\",T(HTMLCanvasElement.prototype.toBlob)?new x(function(e,n){t.toBlob(function(t){t?e(t):n()},r,o)}):S(t.toDataURL(r,o))},B=function(t){return O(t).then(function(t){N(t);var e,n,r=_((n=t).naturalWidth||n.width,(e=t).naturalHeight||e.height);return U(r).drawImage(t,0,0),r})},N=function(t){URL.revokeObjectURL(t.src)},D=O,F=function(t){return(0===(e=t.src).indexOf(\"data:\")?S:P)(e);var e},H=function(t,e){return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return b.some(i);if(n(i,r))break}return b.none()}(t,e,g)},q=function(t,e,n){var r=e.type,o=h(r),i=h(n),u=function(r,o){return t.then(function(t){return n=o,e=(e=r)||\"image/png\",t.toDataURL(e,n);var e,n})};return{getType:o,toBlob:function(){return x.resolve(e)},toDataURL:i,toBase64:function(){return n.split(\",\")[1]},toAdjustedBlob:function(e,n){return t.then(function(t){return M(t,e,n)})},toAdjustedDataURL:u,toAdjustedBase64:function(t,e){return u(t,e).then(function(t){return t.split(\",\")[1]})},toCanvas:function(){return t.then(R)}}},z=function(e){return n=e,new x(function(t){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n)}).then(function(t){return q(B(e),e,t)});var n},$=function(e,t){return M(e,t).then(function(t){return q(x.resolve(e),t,e.toDataURL())})},G=function(t,e,n){var r=_(t.width,t.height),o=U(r),i=0,u=0;return 90!==(n=n<0?360+n:n)&&270!==n||A(r,r.height,r.width),90!==n&&180!==n||(i=r.width),270!==n&&180!==n||(u=r.height),o.translate(i,u),o.rotate(n*Math.PI/180),o.drawImage(t,0,0),$(r,e)},J=function(t,e,n){var r=_(t.width,t.height),o=U(r);return\"v\"===n?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0)),$(r,e)},K=function(t,e){return r=e,(n=t).toCanvas().then(function(t){return J(t,n.getType(),r)});var n,r},V=function(t,e){return r=e,(n=t).toCanvas().then(function(t){return G(t,n.getType(),r)});var n,r},W=Object.keys,X=function(e,r,o){return void 0===o&&(o=!1),new x(function(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&t({status:n.status,blob:n.response})},n.open(\"GET\",e,!0),n.withCredentials=o,function(t,e){for(var n=W(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}}(r,function(t,e){n.setRequestHeader(e,t)}),n.responseType=\"blob\",n.send()})},Q=[{code:404,message:\"Could not find Image Proxy\"},{code:403,message:\"Rejected request\"},{code:0,message:\"Incorrect Image Proxy URL\"}],Y=[{type:\"not_found\",message:\"Failed to load image.\"},{type:\"key_missing\",message:\"The request did not include an api key.\"},{type:\"key_not_found\",message:\"The provided api key could not be found.\"},{type:\"domain_not_trusted\",message:\"The api key is not valid for the request origins.\"}],Z=function(t,e){var n,r,o=(n=function(t,e){return I(t)?t[e]:undefined},r=t,function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(e,function(t){r=n(r,t)}),r);return b.from(o)},tt=function(t){var e,n=(e=t,\"ImageProxy HTTP error: \"+H(Q,function(t){return e===t.code}).fold(h(\"Unknown ImageProxy error\"),function(t){return t.message}));return x.reject(n)},et=function(e){return H(Y,function(t){return t.type===e}).fold(h(\"Unknown service error\"),function(t){return t.message})},nt=function(t){return\"ImageProxy Service error: \"+function(t){try{return b.some(JSON.parse(t))}catch(e){return b.none()}}(t).bind(function(t){return Z(t,[\"error\",\"type\"]).map(et)}).getOr(\"Invalid JSON in service error message\")},rt=function(t){return r=t,new x(function(t,e){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(t){e(t)},n.readAsText(r)}).then(function(t){var e=nt(t);return x.reject(e)});var r},ot=function(t){return t<200||300<=t},it=function(t,e){var n,r,o,i={\"Content-Type\":\"application/json;charset=UTF-8\",\"tiny-api-key\":e};return X((r=e,o=-1===(n=t).indexOf(\"?\")?\"?\":\"&\",/[?&]apiKey=/.test(n)?n:n+o+\"apiKey=\"+encodeURIComponent(r)),i).then(function(t){return ot(t.status)?(e=t.status,n=t.blob,r=e,\"application/json\"!==(null==(o=n)?void 0:o.type)||400!==r&&403!==r&&404!==r&&500!==r?tt(e):rt(n)):x.resolve(t.blob);var e,n,r,o})},ut=function(t,e,n){return void 0===n&&(n=!1),e?it(t,e):X(t,{},n).then(function(t){return ot(t.status)?tt(t.status):x.resolve(t.blob)})},at=z,ct=function(t){if(null===t||t===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:t}},ft={fromHtml:function(t,e){var n=(e||document).createElement(\"div\");if(n.innerHTML=t,!n.hasChildNodes()||1<n.childNodes.length)throw console.error(\"HTML does not have a single root node\",t),new Error(\"HTML must have a single root node\");return ct(n.childNodes[0])},fromTag:function(t,e){var n=(e||document).createElement(t);return ct(n)},fromText:function(t,e){var n=(e||document).createTextNode(t);return ct(n)},fromDom:ct,fromPoint:function(t,e,n){return b.from(t.dom.elementFromPoint(e,n)).map(ct)}},st=(\"undefined\"!=typeof window||Function(\"return this;\")(),function(t,e){return n=function(t){return function(t,e){var n=t.dom;if(1!==n.nodeType)return!1;var r=n;if(r.matches!==undefined)return r.matches(e);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(e);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(e);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(e);throw new Error(\"Browser lacks native selectors\")}(t,e)},H(t.dom.childNodes,function(t){return n(ft.fromDom(t))}).map(ft.fromDom);var n}),lt=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),dt=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),mt=tinymce.util.Tools.resolve(\"tinymce.util.URI\"),ht=function(t){return t.getParam(\"imagetools_proxy\")},gt=function(t){var e=function(t){return/^[0-9\\.]+px$/.test(t)},n=t.style.width,r=t.style.height;return n||r?e(n)&&e(r)?{w:parseInt(n,10),h:parseInt(r,10)}:null:(n=t.width,r=t.height,n&&r?{w:parseInt(n,10),h:parseInt(r,10)}:null)},vt=function(t){return{w:t.naturalWidth,h:t.naturalHeight}},pt=0,yt=function(t){return st(ft.fromDom(t),\"img\")},wt=function(t,e){return t.dom.is(e,\"figure\")},bt=function(t,e){return t.dom.is(e,\"img:not([data-mce-object],[data-mce-placeholder])\")},It=function(e,t){var n=function(t){return bt(e,t)&&(Ut(e,t)||At(e,t)||I(ht(e)))};return wt(e,t)?yt(t).bind(function(t){return n(t.dom)?b.some(t.dom):b.none()}):n(t)?b.some(t):b.none()},Tt=function(t,e){t.notificationManager.open({text:e,type:\"error\"})},_t=function(t){var e=t.selection.getNode(),n=t.dom.getParent(e,\"figure.image\");return null!==n&&wt(t,n)?yt(n):bt(t,e)?b.some(ft.fromDom(e)):b.none()},Rt=function(t,e,n){var r=e.match(/(?:\\/|^)(([^\\/\\?]+)\\.(?:[a-z0-9.]+))(?:\\?|$)/i);return I(r)?t.dom.encode(r[n]):null},Ut=function(t,e){var n=e.src;return 0===n.indexOf(\"data:\")||0===n.indexOf(\"blob:\")||new mt(n).host===t.documentBaseURI.host},At=function(t,e){return-1!==d.inArray(t.getParam(\"imagetools_cors_hosts\",[],\"string[]\"),new mt(e.src).host)},xt=function(t,e){if(At(t,e))return ut(e.src,null,(n=t,r=e,-1!==d.inArray(n.getParam(\"imagetools_credentials_hosts\",[],\"string[]\"),new mt(r.src).host)));var n,r,o;if(Ut(t,e))return F(e);var i=ht(t),u=i+(-1===i.indexOf(\"?\")?\"?\":\"&\")+\"url=\"+encodeURIComponent(e.src),a=(o=t).getParam(\"api_key\",o.getParam(\"imagetools_api_key\",\"\",\"string\"),\"string\");return ut(u,a,!1)},Et=function(t,e){return n=t,b.from(n.getParam(\"imagetools_fetch_image\",null,\"function\")).fold(function(){return xt(t,e)},function(t){return t(e)});var n},Lt=function(t,e){var n=t.editorUpload.blobCache.getByUri(e.src);return n?dt.resolve(n.blob()):Et(t,e)},jt=function(t){lt.clearTimeout(t.get())},kt=function(a,c,f,s,l,d,m){return f.toBlob().then(function(t){var e,n,o,r=a.editorUpload.blobCache,i=d.src,u=c.type===t.type;return a.getParam(\"images_reuse_filename\",!1,\"boolean\")&&(o=r.getByUri(i),n=I(o)?(i=o.uri(),e=o.name(),o.filename()):(e=Rt(a,i,2),Rt(a,i,1))),o=r.create({id:\"imagetools\"+pt++,blob:t,base64:f.toBase64(),uri:i,name:e,filename:u?n:undefined}),r.add(o),a.undoManager.transact(function(){var r=function(){var t,e,n;a.$(d).off(\"load\",r),a.nodeChanged(),s?a.editorUpload.uploadImagesAuto():(jt(l),t=a,e=l,n=lt.setEditorTimeout(t,function(){t.editorUpload.uploadImagesAuto()},t.getParam(\"images_upload_timeout\",3e4,\"number\")),e.set(n))};a.$(d).on(\"load\",r),m&&a.$(d).attr({width:m.w,height:m.h}),a.$(d).attr({src:o.blobUri()}).removeAttr(\"data-mce-src\")}),o})},Ct=function(r,o,t,i){return function(){return _t(r).fold(function(){Tt(r,\"Could not find selected image\")},function(n){return r._scanForImages().then(function(){return Lt(r,n.dom)}).then(function(e){return at(e).then(t).then(function(t){return kt(r,e,t,!1,o,n.dom,i)})})[\"catch\"](function(t){Tt(r,t)})})}},Ot=function(e,n,r){return function(){var t=_t(e).fold(function(){return null},function(t){var e=gt(t.dom);return e?{w:e.h,h:e.w}:null});return Ct(e,n,function(t){return V(t,r)},t)()}},Pt=function(t,e,n){return function(){return Ct(t,e,function(t){return K(t,n)})()}},St=function(e,n,u,a,c){return D(c).then(function(t){var e,n,r,o,i=vt(t);return a.w===i.w&&a.h===i.h||gt(u)&&(e=u,(n=i)&&(r=e.style.width,o=e.style.height,(r||o)&&(e.style.width=n.w+\"px\",e.style.height=n.h+\"px\",e.removeAttribute(\"data-mce-style\")),r=e.width,o=e.height,(r||o)&&(e.setAttribute(\"width\",String(n.w)),e.setAttribute(\"height\",String(n.h))))),URL.revokeObjectURL(t.src),c}).then(at).then(function(t){return kt(e,c,t,!0,n,u)})},Mt=function(i,u){return function(){var r=_t(i),o=r.map(function(t){return vt(t.dom)});r.each(function(e){It(i,e.dom).each(function(t){Lt(i,e.dom).then(function(t){var e,n={blob:e=t,url:URL.createObjectURL(e)};i.windowManager.open({title:\"Edit Image\",size:\"large\",body:{type:\"panel\",items:[{type:\"imagetools\",name:\"imagetools\",label:\"Edit Image\",currentState:n}]},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0,disabled:!0}],onSubmit:function(t){var n=t.getData().imagetools.blob;r.each(function(e){o.each(function(t){St(i,u,e.dom,t,n)})}),t.close()},onCancel:m,onAction:function(t,e){switch(e.name){case\"save-state\":e.value?t.enable(\"save\"):t.disable(\"save\");break;case\"disable\":t.disable(\"save\"),t.disable(\"cancel\");break;case\"enable\":t.enable(\"cancel\")}}})})})})}};s.add(\"imagetools\",function(t){var n,e,r,o,i,u,a,c,f=l(0),s=l(null);n=t,e=f,d.each({mceImageRotateLeft:Ot(n,e,-90),mceImageRotateRight:Ot(n,e,90),mceImageFlipVertical:Pt(n,e,\"v\"),mceImageFlipHorizontal:Pt(n,e,\"h\"),mceEditImage:Mt(n,e)},function(t,e){n.addCommand(e,t)}),o=function(t){return function(){return r.execCommand(t)}},(r=t).ui.registry.addButton(\"rotateleft\",{tooltip:\"Rotate counterclockwise\",icon:\"rotate-left\",onAction:o(\"mceImageRotateLeft\")}),r.ui.registry.addButton(\"rotateright\",{tooltip:\"Rotate clockwise\",icon:\"rotate-right\",onAction:o(\"mceImageRotateRight\")}),r.ui.registry.addButton(\"flipv\",{tooltip:\"Flip vertically\",icon:\"flip-vertically\",onAction:o(\"mceImageFlipVertical\")}),r.ui.registry.addButton(\"fliph\",{tooltip:\"Flip horizontally\",icon:\"flip-horizontally\",onAction:o(\"mceImageFlipHorizontal\")}),r.ui.registry.addButton(\"editimage\",{tooltip:\"Edit image\",icon:\"edit-image\",onAction:o(\"mceEditImage\"),onSetup:function(e){var t=function(){var t=_t(r).forall(function(t){return It(r,t.dom).isNone()});e.setDisabled(t)};return r.on(\"NodeChange\",t),function(){r.off(\"NodeChange\",t)}}}),r.ui.registry.addButton(\"imageoptions\",{tooltip:\"Image options\",icon:\"image\",onAction:o(\"mceImage\")}),r.ui.registry.addContextMenu(\"imagetools\",{update:function(t){return It(r,t).fold(function(){return[]},function(t){return[{text:\"Edit image\",icon:\"edit-image\",onAction:o(\"mceEditImage\")}]})}}),(i=t).ui.registry.addContextToolbar(\"imagetools\",{items:i.getParam(\"imagetools_toolbar\",\"rotateleft rotateright flipv fliph editimage imageoptions\"),predicate:function(t){return It(i,t).isSome()},position:\"node\",scope:\"node\"}),a=f,c=s,(u=t).on(\"NodeChange\",function(t){var e=c.get(),n=It(u,t.element);e&&!n.exists(function(t){return e.src===t.src})&&(jt(a),u.editorUpload.uploadImagesAuto(),c.set(null)),n.each(c.set)})})}();"]}